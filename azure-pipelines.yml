trigger:
  branches:
    include:
      - main

pool: newagent

stages:
  - stage: lintbiome
    displayName: Lint Biome
    jobs:
      - job: lintbiome
        displayName: Lint Biome
        steps:
        - task: PowerShell@2
          inputs:
            targetType: 'inline'
            script: |
              Invoke-WebRequest -Uri "https://github.com/biomejs/biome/releases/download/%40biomejs%2Fbiome%402.3.8/biome-win32-x64.exe" -OutFile "$(Agent.ToolsDirectory)/biome.exe"
              "$(Agent.ToolsDirectory)/biome.exe" lint "$(System.DefaultWorkingDirectory)" --no-errors-on-unmatched


  # - stage: stylelintCSScodequalitycheck
  #   displayName: Stylelint CSS code quality check
  #   jobs:
  #     - job: stylelintCSScodequalitycheck
  #       displayName: Stylelint CSS code quality check
  #       steps:
  #       - task: PowerShell@2
  #         displayName: Stylelint CSS code quality check
  #         inputs:
  #           targetType: 'inline'
  #           script: |
  #             npm install -g stylelint stylelint-config-standard
  #             stylelint "$(System.DefaultWorkingDirectory)/src/**/*.css" --allow-empty-input

  # - stage: appbuild
  #   displayName: App Build
  #   jobs:
  #     - job: appbuild
  #       displayName: App Build
  #       steps:
  #       - task: NodeTool@0
  #         displayName: Node Installer
  #         inputs:
  #           versionSource: 'spec'
  #           versionSpec: '16.x'
  #           checkLatest: true
  #       - task: Npm@1
  #         displayName: NPM Install
  #         inputs:
  #           command: 'install'
  #           workingDir: '$(System.DefaultWorkingDirectory)'
  #       - task: Npm@1
  #         displayName: NPM Build
  #         inputs:
  #           command: 'custom'
  #           workingDir: '$(System.DefaultWorkingDirectory)'
  #           customCommand: 'run build'
  #       - task: PublishBuildArtifacts@1
  #         displayName: Publish Artifacts
  #         inputs:
  #           PathtoPublish: '$(System.DefaultWorkingDirectory)/build'
  #           ArtifactName: 'ToDoUI'
  #           publishLocation: 'Container'
        